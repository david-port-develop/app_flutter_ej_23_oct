{
    "sourceFile": "lib/api_service.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1761326920228,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1761327426771,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,42 @@\n+import 'dart:convert';\n+import 'package:http/http.dart' as http;\n+import 'package:app_flutter_ej_23_oct/models/country_model.dart';\n+import 'package:app_flutter_ej_23_oct/models/user_model.dart';\n+\n+class ApiService {\n+  Future<List<User>> fetchUsers() async {\n+    // Añadimos la cabecera 'apikey' a la petición.\n+    final response = await http.get(\n+      Uri.parse('https://reqres.in/api/users'),\n+      headers: {'apikey': 'reqres-free-v1'},\n+    );\n+\n+    if (response.statusCode == 200) {\n+      final Map<String, dynamic> data = json.decode(response.body);\n+      final List<dynamic> userList = data['data'];\n+      return userList.map((json) => User.fromJson(json)).toList();\n+    } else {\n+      throw Exception('Failed to load users');\n+    }\n+  }\n+\n+  Future<List<Country>> fetchCountries() async {\n+    // Pedimos solo los campos que necesitamos para optimizar la respuesta.\n+    final response = await http.get(\n+      Uri.parse('https://restcountries.com/v3.1/all?fields=name,capital'),\n+    );\n+\n+    if (response.statusCode == 200) {\n+      // La respuesta es una lista de JSON, no un objeto.\n+      // Usamos utf8.decode para manejar caracteres especiales como tildes.\n+      final List<dynamic> countryList = json.decode(\n+        utf8.decode(response.bodyBytes),\n+      );\n+      return countryList.map((json) => Country.fromJson(json)).toList()\n+        // Ordenamos los países alfabéticamente por nombre.\n+        ..sort((a, b) => a.name.compareTo(b.name));\n+    } else {\n+      throw Exception('Failed to load countries');\n+    }\n+  }\n+}\n"
                },
                {
                    "date": 1761327433354,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,42 +1,1 @@\n-import 'dart:convert';\n-import 'package:http/http.dart' as http;\n-import 'package:app_flutter_ej_23_oct/models/country_model.dart';\n-import 'package:app_flutter_ej_23_oct/models/user_model.dart';\n \n-class ApiService {\n-  Future<List<User>> fetchUsers() async {\n-    // Añadimos la cabecera 'apikey' a la petición.\n-    final response = await http.get(\n-      Uri.parse('https://reqres.in/api/users'),\n-      headers: {'apikey': 'reqres-free-v1'},\n-    );\n-\n-    if (response.statusCode == 200) {\n-      final Map<String, dynamic> data = json.decode(response.body);\n-      final List<dynamic> userList = data['data'];\n-      return userList.map((json) => User.fromJson(json)).toList();\n-    } else {\n-      throw Exception('Failed to load users');\n-    }\n-  }\n-\n-  Future<List<Country>> fetchCountries() async {\n-    // Pedimos solo los campos que necesitamos para optimizar la respuesta.\n-    final response = await http.get(\n-      Uri.parse('https://restcountries.com/v3.1/all?fields=name,capital'),\n-    );\n-\n-    if (response.statusCode == 200) {\n-      // La respuesta es una lista de JSON, no un objeto.\n-      // Usamos utf8.decode para manejar caracteres especiales como tildes.\n-      final List<dynamic> countryList = json.decode(\n-        utf8.decode(response.bodyBytes),\n-      );\n-      return countryList.map((json) => Country.fromJson(json)).toList()\n-        // Ordenamos los países alfabéticamente por nombre.\n-        ..sort((a, b) => a.name.compareTo(b.name));\n-    } else {\n-      throw Exception('Failed to load countries');\n-    }\n-  }\n-}\n"
                }
            ],
            "date": 1761326920228,
            "name": "Commit-0",
            "content": "import 'dart:convert';\nimport 'package:http/http.dart' as http;\nimport 'country_model.dart';\nimport 'user_model.dart';\n\nclass ApiService {\n  Future<List<User>> fetchUsers() async {\n    final response = await http.get(Uri.parse('https://reqres.in/api/users'));\n\n    if (response.statusCode == 200) {\n      final Map<String, dynamic> data = json.decode(response.body);\n      final List<dynamic> userList = data['data'];\n      return userList.map((json) => User.fromJson(json)).toList();\n    } else {\n      throw Exception('Failed to load users');\n    }\n  }\n\n  Future<List<Country>> fetchCountries() async {\n    // Pedimos solo los campos que necesitamos para optimizar la respuesta.\n    final response = await http.get(\n      Uri.parse('https://restcountries.com/v3.1/all?fields=name,capital'),\n    );\n\n    if (response.statusCode == 200) {\n      // La respuesta es una lista de JSON, no un objeto.\n      // Usamos utf8.decode para manejar caracteres especiales como tildes.\n      final List<dynamic> countryList = json.decode(\n        utf8.decode(response.bodyBytes),\n      );\n      return countryList.map((json) => Country.fromJson(json)).toList()\n        // Ordenamos los países alfabéticamente por nombre.\n        ..sort((a, b) => a.name.compareTo(b.name));\n    } else {\n      throw Exception('Failed to load countries');\n    }\n  }\n}\n"
        }
    ]
}